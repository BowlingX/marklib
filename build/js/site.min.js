!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Marklib=e():t.Marklib=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="../",e(0)}([function(t,e,n){t.exports=n(98)},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){var n=t.exports={};"number"==typeof __e&&(__e=n)},function(t,e){"use strict";e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},function(t,e,n){"use strict";var r=n(49)["default"];e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.__esModule=!0},function(t,e,n){var r=n(82)("wks"),i=n(8).Symbol;t.exports=function(t){return r[t]||(r[t]=i&&i[t]||(i||n(35))("Symbol."+t))}},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){var r=n(8),i=n(2),o="prototype",a=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e,n){var u,l,c,d,f=t&s.G,h=t&s.P,v=f?r:t&s.S?r[e]:(r[e]||{})[o],p=f?i:i[e]||(i[e]={});f&&(n=e);for(u in n)l=!(t&s.F)&&v&&u in v,l&&u in p||(c=l?v[u]:n[u],f&&"function"!=typeof v[u]?d=n[u]:t&s.B&&l?d=a(c,r):t&s.W&&v[u]==c?!function(t){d=function(e){return this instanceof t?new t(e):t(e)},d[o]=t[o]}(c):d=h&&"function"==typeof c?a(Function.call,c):c,p[u]=d,h&&((p[o]||(p[o]={}))[u]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,e){var n="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.exports=n,"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(1),i=n(44);t.exports=n(13)?function(t,e,n){return r.setDesc(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(51);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=!n(39)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports={"default":n(70),__esModule:!0}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)}},function(t,e,n){"use strict";var r=n(83)(!0);n(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(50)["default"];e["default"]=function(t,e,n){for(var i=!0;i;){var o=t,a=e,s=n;u=c=l=void 0,i=!1,null===o&&(o=Function.prototype);var u=r(o,a);if(void 0!==u){if("value"in u)return u.value;var l=u.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=a,n=s,i=!0}},e.__esModule=!0},function(t,e,n){"use strict";var r=n(64)["default"],i=n(65)["default"];e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i?i(t,e):t.__proto__=e)},e.__esModule=!0},function(t,e,n){var r=n(29),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=(e=Object(t))[i])?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(12),i=n(53),o=n(52),a=n(11),s=n(57),u=n(36);t.exports=function(t,e,n,l){var c,d,f,h=u(t),v=r(n,l,e?2:1),p=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(o(h))for(c=s(t.length);c>p;p++)e?v(a(d=t[p])[0],d[1]):v(t[p]);else for(f=h.call(t);!(d=f.next()).done;)i(f,v,d.value,e)}},function(t,e,n){var r=n(30),i=n(9),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,e)}},function(t,e,n){n(87);var r=n(10);r.NodeList=r.HTMLCollection=r.Array},function(t,e,n){"use strict";var r=n(18)["default"],i=n(19)["default"],o=n(4)["default"],a=n(3)["default"],s=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(25),l=s(u),c=n(37),d=s(c),f=n(59),h=s(f),v="x-marker",p="data-original-offset-start";e.ATTR_DATA_ORIGINAL_OFFSET_START=p;var g="original-text-node-index",m="data-is-start-end",y="data-is-highlight-node",_="data-selection-id",E=16,b="wrapped-node";e.EVENT_WRAPPED_NODE=b;var T=function(t){function e(t,n,i){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,n,t),this.document=t,this.id=l["default"].guid(),this.startContainer=null,this.endContainer=null,this.context=i||this.document,this._renderResult=null}return i(e,t),o(e,[{key:"getId",value:function(){return this.id}},{key:"setId",value:function(t){var e=this;return this.id=t,this._renderResult&&this.wrapperNodes.forEach(function(t){return t.setAttribute(_,e.id)}),this}},{key:"_createWrapTemplate",value:function(t){var n=this.document.createElement(v),r="true";return t||(n.className=this.options.className.join(" "),e.setMarklibInstance(n,this),this.wrapperNodes.push(n),n.setAttribute(y,r),n.setAttribute(_,this.getId())),n.setAttribute(u.DATA_IS_SELECTION,r),n}},{key:"_createStartEndWrapTemplate",value:function(t){var e=this._createWrapTemplate(),n="true";return e.setAttribute(m,n),e.textContent=t,e}},{key:"_createStartOrEndContainer",value:function(t,e,n,r){var i=this._createStartEndWrapTemplate(e);return i.setAttribute(u.ATTR_DATA_ORIGINAL_INDEX,l["default"].getIndexParentIfHas(t,r)),i.setAttribute(p,n),i.setAttribute(g,r),i}},{key:"_createWrap",value:function(t,e,n,r,i){var o=n>=0?n:l["default"].calcIndex(t),a=this._createWrapTemplate(i);a.setAttribute(u.ATTR_DATA_ORIGINAL_INDEX,l["default"].getIndexParentIfHas(t,o));var s=e>=0?e:l["default"].getOffsetParentIfHas(t);a.setAttribute(p,s),a.setAttribute(g,o),r&&a.setAttribute(m,m);var c=l["default"].wrap(t,a);return this.emit(b,t,c),c}},{key:"_createSplitContainer",value:function(t,e,n){var r=this.document.createElement(v),i="true";return r.setAttribute(u.DATA_IS_SELECTION,i),r.setAttribute(u.ATTR_DATA_ORIGINAL_INDEX,l["default"].getIndexParentIfHas(t,e)),r.setAttribute(p,n),r.setAttribute(g,e),r}},{key:"walk",value:function(t,e,n){for(var r=t;r&&r!==n.parentNode;){var i=r;if(r=r.parentNode,this.wrapSiblings(i.nextSibling,e))break}}},{key:"wrapSiblings",value:function(t,n){for(var r=this,i=t,o=!1,a=function(t){var n=e.getMarklibInstance(t.parentNode);t.parentNode.hasAttribute(m)&&t.parentNode.hasAttribute(y)&&n===r?r._createWrap(t,void 0,void 0,void 0,!0):r._createWrap(t)}.bind(this),s=function(t){l["default"].nodeIsEmpty(t)||a(t)},u=function(t){return t===n?!1:(Node.TEXT_NODE===t.nodeType&&s(t),!0)},c=function(t){s(t)};null!==i&&i!==n;){var d=i;if(i=i.nextSibling,Node.TEXT_NODE===d.nodeType)s(d);else if(d.compareDocumentPosition(n)&E?(l["default"].walkDom(d,u),o=!0):l["default"].walkTextNodes(d,c),o)return!0}return o}},{key:"_markTextSameNode",value:function(t,e,n){var r=t.nodeValue,i=l["default"].calcIndex(t);if(!r)return!1;if(e>0){var o=r.slice(0,e);t.parentNode.insertBefore(this.document.createTextNode(o),t),l["default"].wrap(t.previousSibling,this._createSplitContainer(t,i,l["default"].getOffsetParentIfHas(t)))}if(n<r.length){var a=r.slice(n,r.length);t.parentNode.insertBefore(this.document.createTextNode(a),t.nextSibling),l["default"].wrap(t.nextSibling,this._createSplitContainer(t,i,l["default"].getOffsetParentIfHas(t)+n))}return t.nodeValue=r.slice(e,n),this.startContainer=this._createWrap(t,l["default"].getOffsetParentIfHas(t)+e,i,!0).parentNode,this.endContainer=this.startContainer,this.startContainer}},{key:"_markTextDifferentNode",value:function(t,e,n,r){var i=l["default"].calcIndex(t),o=l["default"].calcIndex(e),a=t.nodeValue,s=t;if(void 0!==a){var u=a.slice(n,a.length);t.nodeValue=a.slice(0,n);var c=l["default"].getOffsetParentIfHas(t);s=this._createStartOrEndContainer(t,u,c===n?c:c+n,i),t.parentNode.insertBefore(s,t.nextSibling),this.startContainer=s,t.nodeValue&&l["default"].wrap(t,this._createSplitContainer(t,i,l["default"].getOffsetParentIfHas(t)))}var d=e,f=e.nodeValue;if(void 0!==f){var h=f.slice(0,r);e.nodeValue=f.slice(r,f.length),d=this._createStartOrEndContainer(e,h,l["default"].getOffsetParentIfHas(e),o),e.parentNode.insertBefore(d,e),this.endContainer=d;var v=l["default"].getOffsetParentIfHas(e);l["default"].wrap(e,this._createSplitContainer(e,o,v===r?v:v+r))}return{startT:s,endT:d}}},{key:"_renderWithElements",value:function(t,e,n,r,i){if(this._renderResult)return this._renderResult;var o=l["default"].parents(t,n);o=o[o.length-1];var a=o?o:n,s=l["default"].findOriginalOffset(t),c=l["default"].findOriginalOffset(e);if(t.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.TEXT_NODE&&t===e&&(e=e.nextElementSibling||e),t.nodeType!==Node.TEXT_NODE&&l["default"].walkDom(t,function(e){return e.nodeType===Node.TEXT_NODE?(t=e,!1):!0}),e.nodeType!==Node.TEXT_NODE){var f=l["default"].closest(t,":not(["+u.DATA_IS_SELECTION+"])").childNodes;if(f.length){var h=f[f.length-1];if(h.nodeType===Node.TEXT_NODE)e=h,i=h.length;else for(var v=h.lastChild;null!==v;)v&&v.nodeType===Node.TEXT_NODE&&(e=v,i=v.length,v.parentNode.hasAttribute(p)&&(i=parseInt(v.parentNode.getAttribute(p))+i)),v=v.lastChild}if(e.nodeType!==Node.TEXT_NODE)throw"Could not found endContainer, highlighting would be unstable"}return this._renderResult=new d["default"](s+r,c+i,l["default"].getPath(t,this.context),l["default"].getPath(e,this.context)),this._renderResult.instance=this,this._renderSelection(t,e,r,i,a,!!o),this._renderResult}},{key:"_renderSelection",value:function(t,e,n,r,i,o){if(t===e)this._markTextSameNode(t,n,r);else{var a=this._markTextDifferentNode(t,e,n,r);o?this.walk(a.startT,e,i):this.wrapSiblings(a.startT.nextSibling,e)}}},{key:"renderWithPath",value:function(t,e){var n=l["default"].deserializePath(t,this.context),r=l["default"].deserializePath(e,this.context);if(n&&r&&n.node&&r.node){var i=document.createRange();i.setStart(n.node,n.offset),i.setEnd(r.node,r.offset);var o=i.toString(),a=this.renderWithRange(i);return a.text=o,o}throw"Could not find start- and/or end-container in document"}},{key:"renderWithResult",value:function(t){return this.renderWithPath(t.startContainerPath+";"+t.startOffset,t.endContainerPath+";"+t.endOffset)}},{key:"renderWithRange",value:function(t){var e=t.toString(),n=this._renderWithElements(t.startContainer,t.endContainer,t.commonAncestorContainer,t.startOffset,t.endOffset);return n.text=e,n}},{key:"destroy",value:function(){this.wrapperNodes.forEach(function(t){delete t.marklibInstance,t.className=""}),this.removeEvent()}},{key:"result",get:function(){return this._renderResult}}],[{key:"setMarklibInstance",value:function(t,e){return t.marklibInstance=e,t}},{key:"getMarklibInstance",value:function(t){return t?t.marklibInstance:null}}]),e}(h["default"]);e["default"]=T},function(t,e,n){"use strict";var r=n(4)["default"],i=n(3)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),a="data-original-index";e.ATTR_DATA_ORIGINAL_INDEX=a;var s="data-is-pseudo";e.DATA_PSEUDO=s;var u="data-is-selection";e.DATA_IS_SELECTION=u;var l=";";if(Element&&!Element.prototype.matches){var c=Element.prototype;c.matches=c.matchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector}var d=function(){function t(){i(this,t)}return r(t,null,[{key:"nodeListFilter",value:function(t,e){return Array.prototype.filter.call(t||[],e)}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"nodeIsEmpty",value:function(t){return t.nodeValue.match(/^[\s]*$/g)}},{key:"index",value:function(t,e){var n=e||(t.nodeType===Node.TEXT_NODE?t.parentNode.childNodes:t.parentNode.children);return Array.prototype.indexOf.call(n||[],t)}},{key:"wrap",value:function(t,e){if(!t)return e;t instanceof NodeList||t instanceof Array||(t=[t]);for(var n=t.length-1;n>=0;n--){var r=n>0?e.cloneNode(!0):e,i=t[n],o=i.parentNode,a=i.nextSibling;r.appendChild(i),a?o.insertBefore(r,a):o.appendChild(r)}return e}},{key:"calcIndex",value:function(e){for(var n=0,r=!1,i=e.parentNode.childNodes,o=i.length,s=0;o>s;s++){var u=i[s];if(u===e)break;var l=u.getAttribute?u.getAttribute(a):null;l&&(n=parseInt(l),r=!0),n++}return r?n:t.index(e)}},{key:"parents",value:function(e,n){return t.parentsCallback(e,function(t){return n&&(t===n||"string"==typeof n&&t.matches&&t.matches(n))?!0:n?!1:!0})}},{key:"parentsCallback",value:function(t,e){for(var n=t,r=[];null!==n.parentNode;)n=n.parentNode,e(n)&&r.push(n);return r}},{key:"parent",value:function(t,e){for(var n=t;null!==n.parentNode;)if(n=n.parentNode,n.matches&&n.matches(e))return n;return!1}},{key:"closest",value:function(e,n){return t.closestCallback(e,function(t){return t.matches&&t.matches(n)})}},{key:"closestCallback",value:function(t,e){for(var n=t;null!==n;){if(e(n))return n;n=n.parentNode}return!1}},{key:"outerMostCallback",value:function(t,e){for(var n=t,r=!1;null!==n;)e(n)&&(r=n),n=n.parentNode;return r}},{key:"isMarkNode",value:function(t){return t instanceof HTMLElement&&t.hasAttribute(u)}},{key:"getPath",value:function(e,n){for(var r=null,i=e,o=function(e){return!t.isMarkNode(e)&&e.nodeName===i.nodeName};i;){var s=null;if(Node.TEXT_NODE===i.nodeType){var u=t.parents(i,"["+a+"]").reverse()[0],c=0;u||(c=t.calcIndex(i));var d=u?parseInt(u.getAttribute(a)):c;s=l+d}else s=i.nodeName;if(!s)break;s=s.toLowerCase();var f=i.parentNode;if(t.isMarkNode(i)){if(f!==n){i=f;continue}break}var h=t.nodeListFilter(f.children,o),v=t.index(i,h);if(h.length>1&&v>=0&&(s+=":nth-of-type("+(v+1)+")"),r=s+(r?">"+r:""),f===n)break;i=f}return r.replace("#document>","").replace(">;",";")}},{key:"findOriginalOffset",value:function(e){if(!e.parentNode.hasAttribute(o.ATTR_DATA_ORIGINAL_OFFSET_START))return 0;var n=t.parent(e,"["+o.ATTR_DATA_ORIGINAL_OFFSET_START+"]");return n?parseInt(n.getAttribute(o.ATTR_DATA_ORIGINAL_OFFSET_START)):0}},{key:"deserializePath",value:function(e,n){var r=e.split(";"),i=r[0],s=parseInt(r[1]),u=parseInt(r[2]),l=i.trim()?n.querySelector(i):n,c=null;return t.walkDom(l,function(e){if(e.nodeType!==Node.TEXT_NODE)return!0;var n=e.parentNode.getAttribute(o.ATTR_DATA_ORIGINAL_OFFSET_START);n=null===n?0:n;var r=e.parentNode.getAttribute(a);if(r=null===r?t.calcIndex(e):r,parseInt(r)===s&&u>=n&&parseInt(n)+e.length>=u){var i=e.parentNode.hasAttribute(o.ATTR_DATA_ORIGINAL_OFFSET_START)?u-parseInt(e.parentNode.getAttribute(o.ATTR_DATA_ORIGINAL_OFFSET_START)):u;return c={node:e,offset:i},!1}return!0}),c}},{key:"walkDom",value:function(e,n){if(!e)return!1;var r=e.childNodes;if(!r)return!1;for(var i=0;i<r.length;i++)if(!t.walkDom(r[i],n))return!1;return n(e)}},{key:"walkTextNodes",value:function(e,n){t.walkDom(e,function(e){return Node.TEXT_NODE!==e.nodeType||t.nodeIsEmpty(e)||n(e),!0})}},{key:"getIndexParentIfHas",value:function(t,e){var n=t.parentNode,r=parseInt(n.getAttribute(a));return r>e?r:e}},{key:"getOffsetParentIfHas",value:function(t){var e=t.parentNode,n=parseInt(e.getAttribute(o.ATTR_DATA_ORIGINAL_OFFSET_START));return n>0?n:0}}]),t}();e["default"]=d},function(t,e,n){(function(r){"use strict";var i=n(4)["default"],o=n(3)["default"],a=n(14)["default"],s=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(27),l=s(u),c="complete";r.FLEXCSS_GLOBAL_SETTINGS||!function(){r.FLEXCSS_GLOBAL_SETTINGS={smallBreakpoint:768,scrollbarUpdateNodes:null!==r.document.body?[r.document.body]:[],darkenerFadeDelay:100,canvasToggledClass:"toggled-canvas"},r.FLEXCSS_CONST_IS_IOS=null,r.FLEXCSS_CONST_IS_TOUCH=null,r.FLEXCSS_CONST_IS_IE=null,r.FLEXCSS_CONST_TAB_EVENT="click";var t=function(){r.FLEXCSS_CONST_SCROLLBAR_WIDTH=l["default"].getScrollBarWidth(),r.FLEXCSS_CONST_TRANSITION_EVENT=l["default"].whichTransitionEndEvent()};r.document.readyState===c?t():document.addEventListener("DOMContentLoaded",function(){t()})}();var d=function(){function t(){o(this,t)}return i(t,null,[{key:"setup",value:function(t){a(r.FLEXCSS_GLOBAL_SETTINGS,t)}},{key:"get",value:function(){return r.FLEXCSS_GLOBAL_SETTINGS}},{key:"isIosDevice",value:function(){return r.FLEXCSS_CONST_IS_IOS||(r.FLEXCSS_CONST_IS_IOS=r.navigator.userAgent.match(/(iPad|iPhone|iPod)/i)),r.FLEXCSS_CONST_IS_IOS}},{key:"isTouchDevice",value:function(){return r.FLEXCSS_CONST_IS_TOUCH||(r.FLEXCSS_CONST_IS_TOUCH="ontouchstart"in window||!!r.navigator.msMaxTouchPoints),r.FLEXCSS_CONST_IS_TOUCH}},{key:"isIE",value:function(){return r.FLEXCSS_CONST_IS_IE||(r.FLEXCSS_CONST_IS_IE="ActiveXObject"in window),r.FLEXCSS_CONST_IS_IE}},{key:"getTransitionEvent",value:function(){return r.FLEXCSS_CONST_TRANSITION_EVENT}},{key:"getScrollbarWidth",value:function(){return r.FLEXCSS_CONST_SCROLLBAR_WIDTH}},{key:"getTabEvent",value:function(){return r.FLEXCSS_CONST_TAB_EVENT}}]),t}();e["default"]=d,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){(function(r){"use strict";var i=n(4)["default"],o=n(3)["default"];Object.defineProperty(e,"__esModule",{value:!0});var a=["webkit","moz","MS","o",""],s="is-collision-left",u="is-collision-right",l="is-collision-bottom",c=function(){function t(){o(this,t)}return i(t,null,[{key:"prefixedAnimateEvent",value:function(t,e,n){for(var r=function s(e){n.apply(t,[e,s])},i=0;i<a.length;i++){a[i]||(e=e.toLowerCase());var o=a[i]+e;t.addEventListener(o,r,!0)}}},{key:"whichTransitionEndEvent",value:function(){var t=void 0,e=document.createElement("fake"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}},{key:"isPartOfNode",value:function(t,e){if(!t||!e)return!1;for(var n=t;n!==e&&null!==n&&n!==e;)n=n.parentNode;return null!==n}},{key:"parentsUntil",value:function(t,e){if(!t)return!1;for(var n=t;!e(n)&&null!==n;)n=n.parentNode;return n}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"getScrollBarWidth",value:function(){var t=r.document,e=t.createElement("p");e.style.width="100%",e.style.height="200px";var n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),t.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;return i===o&&(o=n.clientWidth),t.body.removeChild(n),i-o}},{key:"addEventOnce",value:function(t,e,n,r){var i=function o(i){n(i,n),e.removeEventListener(t,o,r)};return e.addEventListener(t,i,r)}},{key:"isVisible",value:function(t){return t.offsetWidth>0&&t.offsetHeight>0}},{key:"dashToCamelCase",value:function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}},{key:"copy",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"applyOptionsFromElement",value:function(e,n){if(!e)return n;for(var r=e.attributes,i=0;i<r.length;i++){var o=r[i];if(o){var a=t.dashToCamelCase(o.nodeName.replace("data-","")),s=o.nodeValue;if(n.hasOwnProperty(a)){if("function"==typeof n[a])continue;"boolean"==typeof n[a]?n[a]=1===parseInt(s||1):n[a]=s}}}return n}},{key:"setupPositionNearby",value:function(e,n,r,i,o){var a=0,c=0;t.parentsUntil(e.parentNode,function(e){if(!(e instanceof HTMLElement))return!1;var r=window.getComputedStyle(e);return t.isPartOfNode(n,e)?(r&&"relative"===r.position&&(a+=e.offsetTop||0,c+=e.offsetLeft||0),!1):!0});var d=e.getBoundingClientRect(),f=n.getBoundingClientRect(),h=r.getBoundingClientRect(),v=d.top-a,p=d.right,g=v-f.height<=0,m=window.innerHeight<v+a+d.height+f.height,y=p<f.width,_=d.left,E=_+f.width>h.width,b=n.classList;b.remove(u),b.remove(s),b.remove(l);var T=void 0,C=void 0;if(y&&!E)C=d.left-h.left-c+"px",b.add(s);else{var k=p-f.width-h.left-c+"px",O=(_+d.width/2-f.width/2||0)-h.left,x=O+f.width>h.width;i&&!x?C=O+"px":(b.add(u),C=k)}return m||o&&!g?(T=v-f.height-h.top+"px",b.add(l)):T=v+d.height-h.top+"px",n.style.cssText="top:"+T+";left:"+C+";",n}},{key:"scrollToElement",value:function(t,e){if(t.scrollIntoView(),e&&("function"==typeof e&&(e=e()),e>0)){var n=window.scrollY||window.pageYOffset;n&&window.scroll(0,n-e)}}}]),t}();e["default"]=c,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){t.exports={"default":n(115),__esModule:!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(54),i=n(7),o=n(45),a=n(9),s=n(30),u=n(5)("iterator"),l=n(10),c="@@iterator",d="keys",f="values",h=function(){return this};t.exports=function(t,e,v,p,g,m,y){n(81)(v,e,p);var _,E,b=function(t){switch(t){case d:return function(){return new v(this,t)};case f:return function(){return new v(this,t)}}return function(){return new v(this,t)}},T=e+" Iterator",C=t.prototype,k=C[u]||C[c]||g&&C[g],O=k||b(g);if(k){var x=n(1).getProto(O.call(new t));n(22)(x,T,!0),!r&&s(C,c)&&a(x,u,h)}if((!r||y)&&a(C,u,O),l[e]=O,l[T]=h,g)if(_={keys:m?O:b(d),values:g==f?O:b(f),entries:g!=f?O:b("entries")},y)for(E in _)E in C||o(C,E,_[E]);else i(i.P+i.F*n(41),e,_)}},function(t,e,n){var r=n(45);t.exports=function(t,e){for(var n in e)r(t,n,e[n]);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError(n+": use the 'new' operator!");return t}},function(t,e,n){var r=n(40),i=n(15);t.exports=function(t){return r(i(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(20),i=n(5)("iterator"),o=n(10);t.exports=n(2).getIteratorMethod=function(t){return void 0!=t?t[i]||t["@@iterator"]||o[r(t)]:void 0}},function(t,e,n){"use strict";var r=n(4)["default"],i=n(3)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(e,n,r,o){i(this,t),this.startOffset=e,this.endOffset=n,this.startContainerPath=r,this.endContainerPath=o,this._renderingInstance=null}return r(t,[{key:"serialize",value:function(){return{startOffset:this.startOffset,endOffset:this.endOffset,startContainerPath:this.startContainerPath,endContainerPath:this.endContainerPath}}},{key:"text",set:function(t){this._text=t},get:function(){return this._text}},{key:"instance",get:function(){return this._renderingInstance},set:function(t){this._renderingInstance=t}}],[{key:"fromObject",value:function(e){return new t(e.startOffset,e.endOffset,e.startContainerPath,e.endContainerPath)}}]),t}();e["default"]=o,t.exports=e["default"]},function(t,e,n){(function(r){/*!
	 * FlexCss.Widget
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var i=n(4)["default"],o=n(3)["default"],a=n(28)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(e){var n=this;if(o(this,t),this.asyncContent=null,this._isWidget=!0,e){if(this.element=e instanceof HTMLElement?e:r.document.getElementById(e),!this.element)throw"Could not found element with ID: "+e;this.element.hfWidgetInstance=this,this.setAsync(function(){return new a(function(t){t(n.element)}.bind(n))}.bind(this))}this.finalContent=null}return i(t,[{key:"getAsync",value:function(){return this.asyncContent()}},{key:"setAsync",value:function(t){return this.asyncContent=t,this}},{key:"getFinalContent",value:function(){return this.finalContent}},{key:"setElement",value:function(t){return this.element=t,this}},{key:"destroy",value:function(){return this.finalContent&&this.finalContent.parentNode?(this.finalContent.parentNode.removeChild(this.finalContent),!0):(delete this.element,delete this.asyncContent,delete this.finalContent,!1)}}],[{key:"findWidget",value:function(t){return t?t.hfWidgetInstance:void 0}},{key:"isWidget",value:function(e){return e instanceof t||"object"==typeof e&&e.hasOwnProperty("_isWidget")}}]),t}();e["default"]=s,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(29);t.exports=0 in Object("z")?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports="keys"in[]&&!("next"in[].keys())},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports=function(t,e){var r=n(7),i=(n(2).Object||{})[t]||Object[t],o={};o[t]=e(i),r(r.S+r.F*n(39)(function(){i(1)}),"Object",o)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports=n(9)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(15);t.exports=function(t){return Object(r(t))}},function(t,e,n){(function(r){"use strict";var i=n(4)["default"],o=n(3)["default"],a=n(14)["default"];Object.defineProperty(e,"__esModule",{value:!0}),void function(){if(!r.CustomEvent||"function"!=typeof r.CustomEvent){var t;t=function(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},t.prototype=r.Event.prototype,r.CustomEvent=t}}();var s=function(){function t(e,n){o(this,t),this.target=e,this.defaultOptions={bubbles:!0,cancelable:!0},this.name=n}return i(t,[{key:"withOptions",value:function(t){return a(this.defaultOptions,t||{}),this}},{key:"withOriginal",value:function(t){return this.withDetail({originalEvent:t})}},{key:"withDetail",value:function(t){return this.defaultOptions.detail||(this.defaultOptions.detail={}),a(this.defaultOptions.detail,t),this}},{key:"fire",value:function(){var t=new CustomEvent(this.name,this.defaultOptions);return this.target&&this.target.dispatchEvent(t),t}}]),t}(),u=function(){function t(){o(this,t)}return i(t,null,[{key:"dispatch",value:function(t,e){return new s(t,e)}},{key:"dispatchAndFire",value:function(t,e,n){return new s(t,e).withOptions(n).fire()}}]),t}();e["default"]=u,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){t.exports={"default":n(72),__esModule:!0}},function(t,e,n){t.exports={"default":n(73),__esModule:!0}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(10),i=n(5)("iterator");t.exports=function(t){return(r.Array||Array.prototype[i])===t}},function(t,e,n){var r=n(11);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},function(t,e){t.exports=!0},function(t,e,n){var r=n(1).getDesc,i=n(16),o=n(11),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e){try{e=n(12)(Function.call,r(Object.prototype,"__proto__").set,2),e({},[])}catch(i){t=!0}return function(n,r){return a(n,r),t?n.__proto__=r:e(n,r),n}}():void 0),check:a}},function(t,e,n){"use strict";var r=n(1),i=n(5)("species");t.exports=function(t){!n(13)||i in t||r.setDesc(t,i,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(46),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){},function(t,e,n){"use strict";var r=n(18)["default"],i=n(19)["default"],o=n(4)["default"],a=n(3)["default"],s=n(67)["default"],u=n(14)["default"],l=n(66)["default"],c=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var d=n(93),f=c(d),h=n(24),v=c(h),p=n(25),g=c(p),m="click";e.EVENT_CLICK=m;var y="hover-enter";e.EVENT_MOUSEENTER=y;var _="hover-leave";e.EVENT_MOUSELEAVE=_;var E="tree-enter";e.EVENT_PART_TREE_ENTER=E;var b="tree-leave";e.EVENT_PART_TREE_LEAVE=b;var T=function(t){function e(t,n){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.options={hoverClass:"marklib--hover",treeClass:"marklib--tree",className:["marking"]},this.options=u(this.options,t||{}),"string"==typeof this.options.className&&(this.options.className=this.options.className.split(" ")),this.wrapperNodes=[],this._registerEvents(n)}return i(e,t),o(e,[{key:"_registerEvents",value:function(t){var e=this;this.on(y,function(){e.wrapperNodes.forEach(function(t){t.classList.add(e.options.hoverClass)})}),this.on(_,function(){e.wrapperNodes.forEach(function(t){t.classList.remove(e.options.hoverClass)})}),this.on(E,function(){e.wrapperNodes.forEach(function(t){t.classList.add(e.options.treeClass)})}),this.on(b,function(){e.wrapperNodes.forEach(function(t){t.classList.remove(e.options.treeClass)})}),t.MARKLIB_EVENTS||(t.MARKLIB_EVENTS=!0,function(){function e(t){var e=v["default"].getMarklibInstance(t);return e&&(e instanceof v["default"]||"wrapperNodes"in e)}function n(t){var n=g["default"].closestCallback(t.target,function(t){return e(t)});return"object"==typeof n?v["default"].getMarklibInstance(n):!1}function r(t,n){return g["default"].parentsCallback(t.target,function(t){return e(t)&&v["default"].getMarklibInstance(t)!==n}).map(function(t){return v["default"].getMarklibInstance(t)})}function i(){a.forEach(function(t){t.emit(_)}),a.clear(),u.forEach(function(t){t.emit(b)}),u.clear()}function o(t){var e=n(t);if(e){var i=r(t,e);if(t.target.textContent!==e.result.text&&i.length>0){var o=i;o.unshift(e),o=o.sort(function(t,e){return t.result.text.length>e.result.text.length}),e=o[0]}return[e,i]}return!1}var a=new l,u=new l;t.addEventListener("click",function(t){var e=o(t);e&&e[0].emit(m,t,e[1])},!0),t.addEventListener("mouseover",function(t){var e=o(t);e?!function(){var n=s(e,2),r=n[0],o=n[1];i(),o.forEach(function(e){u.add(e),e.emit(E,t,o)}),r.emit(y,t,o),a.add(r)}():i()},!0)}())}}]),e}(f["default"]);e["default"]=T},function(t,e,n){"use strict";var r=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),o=r(i),a=n(25),s=r(a),u=n(37),l=r(u);e["default"]={Rendering:o["default"],Util:s["default"],RenderResult:l["default"]},t.exports=e["default"]},function(t,e,n){"use strict";var r=n(4)["default"],i=n(3)["default"];Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){i(this,t),this.listeners=[]}return r(t,[{key:"destroy",value:function(){this.listeners.forEach(function(t){t.element.removeEventListener.apply(t.element,t.args)}),this.listeners=[]}},{key:"addEventListener",value:function(t,e,n,r){return this.listeners.push({element:t,args:[e,n,r]}),t.addEventListener(e,n,r),n}}]),t}();e["default"]=o,t.exports=e["default"]},function(t,e,n){t.exports={"default":n(68),__esModule:!0}},function(t,e,n){t.exports={"default":n(69),__esModule:!0}},function(t,e,n){t.exports={"default":n(71),__esModule:!0}},function(t,e,n){t.exports={"default":n(74),__esModule:!0}},function(t,e,n){t.exports={"default":n(75),__esModule:!0}},function(t,e,n){"use strict";var r=n(62)["default"],i=n(63)["default"];e["default"]=function(){function t(t,e){var n=[],i=!0,o=!1,a=void 0;try{for(var s,u=r(t);!(i=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(l){o=!0,a=l}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(i(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e.__esModule=!0},function(t,e,n){n(23),n(17),t.exports=n(85)},function(t,e,n){n(23),n(17),t.exports=n(86)},function(t,e,n){n(88),t.exports=n(2).Object.assign},function(t,e,n){var r=n(1);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){var r=n(1);n(89),t.exports=function(t,e){return r.getDesc(t,e)}},function(t,e,n){n(90),t.exports=n(2).Object.setPrototypeOf},function(t,e,n){n(58),n(17),n(23),n(91),n(92),t.exports=n(2).Set},function(t,e,n){var r=n(47),i=n(40),o=n(80);t.exports=Object.assign||function(t,e){for(var n=r(t),a=arguments.length,s=1;a>s;)for(var u,l=i(arguments[s++]),c=o(l),d=c.length,f=0;d>f;)n[u=c[f++]]=l[u];return n}},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(12),a=n(56),s=n(33),u=n(15),l=n(21),c=n(42),d=n(35)("id"),f=n(30),h=n(16),v=Object.isExtensible||h,p=n(13),g=p?"_s":"size",m=0,y=function(t,e){if(!h(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!f(t,d)){if(!v(t))return"F";if(!e)return"E";i(t,d,++m)}return"O"+t[d]},_=function(t,e){var n,r=y(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,i,a){var c=t(function(t,n){s(t,c,e),t._i=r.create(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&l(n,i,t[a],t)});return n(32)(c.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},"delete":function(t){var e=this,n=_(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[g]--}return!!n},forEach:function(t){for(var e,n=o(t,arguments[1],3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!_(this,t)}}),p&&r.setDesc(c.prototype,"size",{get:function(){return u(this[g])}}),c},def:function(t,e,n){var r,i,o=_(t,e);return o?o.v=n:(t._l=o={i:i=y(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:_,setStrong:function(t,e,r){n(31)(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},r?"entries":"values",!r,!0),a(t),a(n(2)[e])}}},function(t,e,n){var r=n(21),i=n(20);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");var e=[];return r(this,!1,e.push,e),e}}},function(t,e,n){"use strict";var r=n(1),i=n(7),o=n(9),a=n(41),s=n(21),u=n(33);t.exports=function(t,e,l,c,d,f){var h=n(8)[t],v=h,p=d?"set":"add",g=v&&v.prototype,m={};return n(13)&&"function"==typeof v&&(f||!a&&g.forEach&&g.entries)?(v=e(function(e,n){u(e,v,t),e._c=new h,void 0!=n&&s(n,d,e[p],e)}),r.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(t){var e="add"==t||"set"==t;t in g&&(!f||"clear"!=t)&&o(v.prototype,t,function(n,r){var i=this._c[t](0===n?0:n,r);return e?this:i})}),"size"in g&&r.setDesc(v.prototype,"size",{get:function(){return this._c.size}})):(v=c.getConstructor(e,t,d,p),n(32)(v.prototype,l)),n(22)(v,t),m[t]=v,i(i.G+i.W+i.F,m),f||c.setStrong(v,t,d),v}},function(t,e,n){var r=n(1);t.exports=function(t){var e=r.getKeys(t),n=r.getSymbols;if(n)for(var i,o=n(t),a=r.isEnum,s=0;o.length>s;)a.call(t,i=o[s++])&&e.push(i);return e}},function(t,e,n){"use strict";var r=n(1),i={};n(9)(i,n(5)("iterator"),function(){return this}),t.exports=function(t,e,o){t.prototype=r.create(i,{next:n(44)(1,o)}),n(22)(t,e+" Iterator")}},function(t,e,n){var r=n(8),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(46),i=n(15);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return 0>u||u>=l?t?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(11),i=n(36);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(20),i=n(5)("iterator"),o=n(10);t.exports=n(2).isIterable=function(t){var e=Object(t);return i in e||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){"use strict";var r=n(84),i=n(42),o=n(10),a=n(34);n(31)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(7);r(r.S,"Object",{assign:n(76)})},function(t,e,n){var r=n(34);n(43)("getOwnPropertyDescriptor",function(t){return function(e,n){return t(r(e),n)}})},function(t,e,n){var r=n(7);r(r.S,"Object",{setPrototypeOf:n(55).set})},function(t,e,n){"use strict";var r=n(77);n(79)("Set",function(t){return function(){return t(this,arguments[0])}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){var r=n(7);r(r.P,"Set",{toJSON:n(78)("Set")})},function(t,e,n){var r;(function(){"use strict";function e(){}function i(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}var a=e.prototype,s=this,u=s.EventEmitter;a.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp){e={};for(n in r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n])}else e=r[t]||(r[t]=[]);return e},a.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},a.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},a.addListener=function(t,e){var n,r=this.getListenersAsObject(t),o="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===i(r[n],e)&&r[n].push(o?e:{listener:e,once:!1});return this},a.on=o("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=o("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var n,r,o=this.getListenersAsObject(t);for(r in o)o.hasOwnProperty(r)&&(n=i(o[r],e),-1!==n&&o[r].splice(n,1));return this},a.off=o("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},a.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},a.removeAllListeners=o("removeEvent"),a.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(i in a)if(a.hasOwnProperty(i))for(r=a[i].length;r--;)n=a[i][r],n.once===!0&&this.removeListener(t,n.listener),o=n.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},a.trigger=o("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=u,e},r=function(){return e}.call(s,n,s,t),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){(function(t){/*!
	 * FlexCss.Modal
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var r=n(4)["default"],i=n(3)["default"],o=n(14)["default"],a=n(28)["default"],s=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(26),l=s(u),c=n(48),d=s(c),f=n(27),h=s(f),v=n(38),p=s(v),g=t.document.documentElement,m=27,y="data-new-instance",_="data-close-modal",E="data-modal",b="front",T="open",C="current",k="part-of-stack",O="modal-open",x="modal-container",w="modal-anim-end",A="loader-container",L="loader",S="flexcss.modal.closed";e.EVENT_MODAL_CLOSED=S;var N="flexcss.modal.beforeClose";e.EVENT_MODAL_BEFORE_CLOSED=N;var I="flexcss.modal.opened";e.EVENT_MODAL_OPENED=I;var F="flexcss.modal.init";e.EVENT_MODAL_INIT=F;var D="flexcss.modal.asyncTargetLoaded";e.EVENT_MODAL_ASYNC_TARGET_LOADED=D;var M=function(){function e(n,r){i(this,e);var a=t.document,s=n instanceof HTMLElement?n:a.getElementById(n);if(!s)throw"Could not found container element by given ID/Element: "+n;this.currentOpen=null,this.loading=!1,this.container=s,this.options={classNames:"modal",closeOnEscape:!0,closeOnBackgroundClick:!0,destroyOnFinish:!1,fixedContainer:!0,containerClassNames:""},o(this.options,r),this.eventContainer=null,this.eventFunction=null,this.dataMainPageContainer=t.document.body,this.currentScrollTop=0,this.modalContainer=null,this.destroyOnFinish=this.options.destroyOnFinish}return r(e,[{key:"_removeModalFromStack",value:function(t){var n=e._modalInstances.indexOf(t),r=this;n>-1&&(e._modalInstances.splice(n,1),0===e._modalInstances.length&&r.dataMainPageContainer&&setTimeout(function(){r.options.fixedContainer&&(r.dataMainPageContainer.style.position="static",r.dataMainPageContainer.style.top="0px",document.documentElement.scrollTop=r.currentScrollTop,document.body.scrollTop=r.currentScrollTop),l["default"].get().scrollbarUpdateNodes.forEach(function(t){t.style.paddingRight=""}),g.classList.remove(O)},0))}},{key:"getModalContainer",value:function(){return this.modalContainer}},{key:"close",value:function(t){var n=this,r=n.currentOpen?h["default"].applyOptionsFromElement(n.currentOpen,h["default"].copy(n.options)):n.options;if(!r.closeOnEscape&&t instanceof KeyboardEvent)return!1;if(!r.closeOnBackgroundClick&&t&&t.type===l["default"].getTabEvent()&&!t.target.hasAttribute(_))return!1;if(n.loading)return!1;if(t&&t.preventDefault(),n.currentOpen){var i=d["default"].dispatchAndFire(n.currentOpen,N);if(i.defaultPrevented)return!1;if(this._finishState(n.currentOpen),n.currentOpen.prevModal)return n.switchModals(n.currentOpen.prevModal,n.currentOpen.prevModal.prevModal||null);d["default"].dispatch(n.currentOpen,S).withOriginal(t).fire()}if(n._removeModalFromStack(n.currentOpen),n.currentOpen=null,n.modalContainer){var o=e._modalInstances[e._modalInstances.length-1],a=n.modalContainer.classList;a.remove(b),a.remove(T);for(var s=0;s<n.modalContainer.childNodes.length;s++){var u=n.modalContainer.childNodes[s],c=u.classList;n._finishState(u),c.remove(C),c.remove(k)}o&&o.parentNode.classList.add(b)}return n.destroyOnFinish&&n.destroy(),n}},{key:"_finishState",value:function(t){t.classList.remove(w)}},{key:"_finishAnim",value:function(t,e){t.target.classList.add(w),t.target.removeEventListener(t.type,e,!0)}},{key:"switchModals",value:function(t,n){t.prevModal=n,e._modalInstances.push(t),n&&(this._finishState(n),h["default"].prefixedAnimateEvent(n,"AnimationEnd",this._finishAnim),n.classList.add(k)),this.currentOpen=t;for(var r=e._modalInstances,i=0;i<r.length;i++)r[i].parentNode.classList.remove(b);this.modalContainer.classList.add(b),h["default"].prefixedAnimateEvent(t,"AnimationEnd",this._finishAnim);for(var o=0;o<this.modalContainer.childNodes.length;o++){var a=this.modalContainer.childNodes[o],s=a.classList.contains(C);a===t?(t.classList.add(C),t.classList.remove(k),this._finishState(t)):(a.classList.remove(C),s&&(this._removeModalFromStack(a),d["default"].dispatchAndFire(a,S)))}}},{key:"handleScrollbar",value:function(){var n=this;if(0===e._modalInstances.length){var r=void 0,i=void 0;n.options.fixedContainer&&(r=t.pageYOffset,i=n.dataMainPageContainer,n.currentScrollTop=r),l["default"].get().scrollbarUpdateNodes.map(function(e){return{n:e,padding:parseInt(t.getComputedStyle(e).paddingRight)+l["default"].getScrollbarWidth()+"px"}}).forEach(function(t){t.n.style.paddingRight=t.padding}),n.options.fixedContainer&&i&&(i.style.cssText+="top:"+(-1*r+"px")+";position:fixed"),g.classList.add(O)}}},{key:"createWidget",value:function(n){var r=this;if(this.loading)return!1;if(n&&n.target){var i=h["default"].parentsUntil(n.target,function(t){return t&&t.flexModalInstance});if(i!==this.container)return!1}var o,s,u,c,f=!0,v=n instanceof HTMLElement,g=p["default"].isWidget(n);if(v||g)v?o=n:(u=n,o=u.element);else{if(c=n.target,!c)throw"Could not find target, did you pass an event, a HTMLElement or an Widget?";if(f=c.hasAttribute(E),o=c.getAttribute(E),u=p["default"].findWidget(c),c.hasAttribute(y)&&!n.newInstance){var m=new e(this.container).setDestroyOnFinish(!0);return n.newInstance=!0,m.fromEvent(n).then(function(){m.registerEvents(m.getModalContainer())}),!1}f&&(n.stopImmediatePropagation(),n.preventDefault())}if(!f)return!1;var C=this.modalContainer?this.modalContainer.classList:[];if(this.modalContainer)C.add(T);else{this.modalContainer=t.document.createElement("div"),this.modalContainer.className=x+" "+this.options.containerClassNames+" "+T;var k=function(t){return r.loading?!1:h["default"].isPartOfNode(t.target,r.currentOpen)&&!t.target.hasAttribute(_)?!1:void r.close(t)};this.modalContainer.addEventListener(l["default"].getTabEvent(),k,!1),C=this.modalContainer.classList,this.container.appendChild(this.modalContainer)}var O=void 0,w=t.document,S=function(t){if(t){O=w.createElement("div"),O.className=A;var e=w.createElement("div");e.className=L,O.appendChild(e),r.modalContainer.appendChild(O)}else O.parentNode.removeChild(O)};this.handleScrollbar(),C.add(b),C.add("loading"),this.loading=!0,S(!0);var N=u?u.getAsync():null;if(p["default"].isWidget(u)&&N)s=N.then(function(t){var e;if(t instanceof HTMLElement||t instanceof DocumentFragment)e=t;else{var n=w.createElement("div");n.className=r.options.classNames,n.innerHTML=t,n.id=h["default"].guid(),e=n}return u.finalContent=e,d["default"].dispatchAndFire(c,D),e});else{var I=o instanceof HTMLElement||o instanceof DocumentFragment?o:w.getElementById(o);if(!I)throw"Could not found given modal element (content) with ID: "+o;s=new a(function(t){t(I)})}return d["default"].dispatchAndFire(c,F),s.then(function(t){return t.hfWidgetInstance=r,r.modalContainer.appendChild(t),C.remove("loading"),r.loading=!1,S(!1),r.open(t,!0,n),t})}},{key:"open",value:function(t,e,n){e||(this.modalContainer.classList.add("open"),this.handleScrollbar()),this.switchModals(t,this.currentOpen),d["default"].dispatch(t,I).withOriginal(n).fire()}},{key:"registerEvents",value:function(t){var e=t||this.container,n=this;return e.flexModalInstance=n,n.eventFunction=function(){n.createWidget.apply(n,arguments)},e.addEventListener(l["default"].getTabEvent(),n.eventFunction,!1),n.eventContainer=e,n}},{key:"fromWidget",value:function(t){return this.createWidget(t)}},{key:"fromEvent",value:function(t){return this.createWidget(t)}},{key:"setDestroyOnFinish",value:function(t){return this.destroyOnFinish=t,this}},{key:"destroy",value:function(){var e=this,n=this.modalContainer,r=0===n.childNodes.length;if(e.eventContainer&&e.eventContainer.removeEventListener(l["default"].getTabEvent(),e.eventFunction,!0),r&&n.parentNode&&n.parentNode.removeChild(n),t.MutationObserver){var i=new MutationObserver(function(t){t.forEach(function(){r&&(n.parentNode.removeChild(n),i.disconnect())})});i.observe(n,{childList:!0})}else n.addEventListener("DOMNodeRemoved",function(t){t.target!==n&&n.childNodes.length-1===0&&n.parentNode.removeChild(n)})}}]),e}();e["default"]=M,M._modalInstances=[],t.addEventListener("keydown",function(t){if(t.keyCode===m){var e=M._modalInstances[M._modalInstances.length-1];e&&p["default"].findWidget(e).close(t)}})}).call(e,function(){return this}())},function(t,e,n){(function(r){/*!
	 * FlexCss.Tooltip
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var i=n(18)["default"],o=n(19)["default"],a=n(4)["default"],s=n(3)["default"],u=n(14)["default"],l=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var c=n(27),d=l(c),f=n(61),h=l(f),v="tooltip-container",p="open",g="data-class",m=r.document,y=function(t){function e(t,n){if(s(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.container=t instanceof HTMLElement?t:m.getElementById(t),!this.container)throw"Could not create Tooltip, DelegateContainer not found";this.tooltipContainer=null,this.options={containerClass:"",selectorAttribute:"data-tooltip"},u(this.options,n||{})}return o(e,t),a(e,[{key:"createTooltip",value:function(t,e,n){if(e&&(!e||""!==e.trim())){var r=this.tooltipContainer;r||(r=m.createElement("div"),this.container.appendChild(r),this.tooltipContainer=r),this._restoreClassNames(r,t),r.style.left="auto",r.style.top="auto",r.innerHTML=e,r.flexTooltipCurrentTarget=t,n&&(t.oldTitle=e,t.removeAttribute("title")),d["default"].setupPositionNearby(t,r,this.container,!0,!0),r.classList.add(p)}}},{key:"_restoreClassNames",value:function(t,e){var n=[v,this.options.containerClass],r=e.getAttribute(g);return r&&n.push(r),t.className=n.join(" "),this}},{key:"getCurrentTarget",value:function(){return this.tooltipContainer?this.tooltipContainer.flexTooltipCurrentTarget:null}},{key:"destroy",value:function(){return i(Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.tooltipContainer?(this.tooltipContainer.parentNode.removeChild(this.tooltipContainer),!0):!1}},{key:"removeTooltip",value:function(t){if(!t&&this.tooltipContainer&&(t=this.tooltipContainer.flexTooltipCurrentTarget),this.tooltipContainer){if(this.tooltipContainer.flexTooltipCurrentTarget!==t)return;this.tooltipContainer.classList.remove(p),delete this.tooltipContainer.flexTooltipCurrentTarget}t&&t.oldTitle&&t.setAttribute("title",t.oldTitle)}},{key:"registerEvents",value:function(){var t=this;return this.addEventListener(this.container,"mouseover",function(e){e.target.hasAttribute(t.options.selectorAttribute)&&t.createTooltip(e.target,e.target.getAttribute("title"),!0)}),this.addEventListener(this.container,"mouseout",function(e){e.target.hasAttribute(t.options.selectorAttribute)&&t.removeTooltip(e.target)}),this}}]),e}(h["default"]);e["default"]=y,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){t.exports={"default":n(113),__esModule:!0}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t){if(!i)return!1;var e=!1;try{var n=[7],o=n[r]();o.next=function(){e=!0},n[r]=function(){return o},t(n)}catch(a){}return e}},function(t,e,n){"use strict";var r=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(60),o=r(i),a=n(107),s=13;document.addEventListener("DOMContentLoaded",function(){function t(t,e,n){var r=document.getElementById(t).childNodes[0],i=r.length,a=function s(t,r,i){var a=new o["default"].Rendering(document,{className:e}),u=document.createRange();u.setStart(t,0),u.setEnd(t,1),a.renderWithRange(u),t.parentNode.nextSibling&&!function(){var e=t.parentNode.nextSibling.childNodes[0];setTimeout(function(){s(e,++r,i)},n)}()};return a(r,0,i)}var e="savedRanges",n="animationend",r=[],i=new a.Tooltip(document.body);t("automark","fadeInDown",20);var u=JSON.parse(localStorage.getItem(e))||[],l=!1,c=function(){var t=this;this.wrapperNodes.forEach(function(t){t.addEventListener(n,function e(t){t.target.classList.remove("bubble"),t.target.removeEventListener(n,e)}),t.classList.add("bubble")}),i.getCurrentTarget()!==this.wrapperNodes[0]&&(i.createTooltip(this.wrapperNodes[0],this.result.text),setTimeout(function(){i.getCurrentTarget()&&document.addEventListener("click",function e(n){i.getCurrentTarget()&&i.getCurrentTarget()===t.wrapperNodes[0]&&i.removeTooltip(),document.removeEventListener("click",e)})},0))};u.forEach(function(t){var n=new o["default"].Rendering(document);try{n.renderWithResult(t),r.push(n),n.on("click",c)}catch(i){console.warn("Could not render:",t,i),localStorage.setItem(e,JSON.stringify([])),console.error("Cleared local storage because of a rendering issue, the page might have been changed ;)")}}),window.addEventListener("scroll",function(){var e=document.getElementById("secondParagraph"),n=e.getBoundingClientRect(),r=document.documentElement;n.top<=r.clientHeight&&n.bottom>=0&&!l&&(l=!0,e.classList.add("animate"),u.length||t("secondParagraphItem","marking",30))});var d=function(){try{var t=document.getSelection(),n=new o["default"].Rendering(document),i=n.renderWithRange(t.getRangeAt(0));n.on("click",c),r.push(n),t.removeAllRanges(),u.push(i.serialize()),localStorage.setItem(e,JSON.stringify(u))}catch(a){console.warn("Could not add selection: ",a)}};document.addEventListener("keydown",function(t){t.keyCode===s&&d()}),document.addEventListener("click",function(t){return"action-mark"===t.target.id?d():void("action-clear"===t.target.id&&(r.forEach(function(t){return t.destroy()}),u=[],r=[],localStorage.setItem(e,JSON.stringify([]))))})}),e["default"]=o["default"],t.exports=e["default"]},function(t,e,n){"use strict";n(100),t.exports=self.fetch.bind(self)},function(t,e,n){"use strict";var r=n(96)["default"],i=n(28)["default"];!function(){function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){this.map={},t instanceof n?t.forEach(function(t,e){this.append(e,t)},this):t&&r(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?i.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new i(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function u(t){var e=new FileReader;return e.readAsText(t),a(e)}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},p.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return i.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:i.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var r=e.body;if(d.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new n(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",(e.headers||!this.headers)&&(this.headers=new n(e.headers)),this.method=c(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function h(t){var e=new n,r=t.getAllResponseHeaders().trim().split("\n");return r.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function v(t,e){e||(e={}),this._initBody(t),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof n?e.headers:new n(e.headers),this.url=e.url||""}if(!self.fetch){n.prototype.append=function(n,r){n=t(n),r=e(r);var i=this.map[n];i||(i=[],this.map[n]=i),i.push(r)},n.prototype["delete"]=function(e){delete this.map[t(e)]},n.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},n.prototype.getAll=function(e){return this.map[t(e)]||[]},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(n,r){this.map[t(n)]=[e(r)]},n.prototype.forEach=function(t,e){r(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},l.call(d.prototype),l.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];v.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},self.Headers=n,self.Request=d,self.Response=v,self.fetch=function(t,e){return new i(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=d.prototype.isPrototypeOf(t)&&!e?t:new d(t,e);var a=new XMLHttpRequest;a.onload=function(){var t=1223===a.status?204:a.status;if(100>t||t>599)return void r(new TypeError("Network request failed"));var e={status:t,statusText:a.statusText,headers:h(a),url:i()},o="response"in a?a.response:a.responseText;n(new v(o,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&p.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},self.fetch.polyfill=!0}}()},function(t,e,n){(function(t){/*!
	 * FlexCss.Dropdown
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var r=n(4)["default"],i=n(3)["default"],o=n(28)["default"],a=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(27),u=a(s),l=n(26),c=a(l),d=n(48),f=a(d),h=n(38),v=a(h),p="data-collision-container",g="data-darkener-container",m="init",y="data-target",_="data-close-dropdown",E="data-dropdown",b="loading",T="darkener-dropdown",C="open",k="dropdown",O="flexcss.dropdown.closed";e.EVENT_DROPDOWN_CLOSED=O;var x=function(){function e(n,r){i(this,e);var o=t.document;if(this.container=n instanceof HTMLElement?n:o.getElementById(n),this.currentOpen=null,this.currentTarget=null,this.darkener=r instanceof HTMLElement?r:document.getElementById(r),this.destroyOnClose=!1,!this.darkener||!this.container)throw"required elements not found (darkener and container element)"}return r(e,[{key:"_delegateFunction",value:function(t){var e=this.currentOpen,n=t.target.hasAttribute(E),r=t.target.parentNode?t.target.parentNode.hasAttribute(E):!1,i=n?t.target:t.target.parentNode,o=i===this.currentTarget;if(e&&!u["default"].isPartOfNode(t.target,e)||o)return this.close(),o&&t.preventDefault(),o?!1:this._delegateFunction(t);if(n||r&&!e){if(t.preventDefault(),t.stopImmediatePropagation(),i.isLoading)return!1;this.createDropdown(i)}else e&&(t.target.hasAttribute(_)&&(t.preventDefault(),this.close()),u["default"].isPartOfNode(t.target,e)||this.close())}},{key:"registerEvents",value:function(){return this.container.addEventListener(c["default"].getTabEvent(),this._delegateFunction.bind(this),!0),this}},{key:"destroy",value:function(){return this.container.removeEventListener(c["default"].getTabEvent(),this._delegateFunction.bind(this),!0),this}},{key:"setDestroyOnClose",value:function(t){return this.destroyOnClose=t,this}},{key:"toggleDarkenerToggler",value:function(t,e){var n="toggle-"+(t.id||T),r=this.container.classList;e?r.add(n):r.remove(n)}},{key:"close",value:function(){var t=this,e=this.currentOpen;if(!e)return!1;var n,r=e.flexDarkenerInstance||this.darkener,i=e;return n=new o(function(n){"fixed"===window.getComputedStyle(e).position?u["default"].addEventOnce(c["default"].getTransitionEvent(),e,function(){setTimeout(function(){return f["default"].dispatchAndFire(i,O),null!==this.currentOpen?!1:(this.toggleDarkenerToggler(r,!1),this.container.classList.remove(c["default"].get().canvasToggledClass),void n(!0))}.bind(this),c["default"].get().darkenerFadeDelay)}.bind(t)):(n(!0),f["default"].dispatchAndFire(i,O))}),e.classList.remove(C),e.flexDarkenerInstance?e.flexDarkenerInstance.classList.remove(m):this.darkener.classList.remove(m),this.currentOpen=null,this.currentTarget=null,this.destroyOnClose&&this.destroy(),n}},{key:"createDropdown",value:function(e,n){var r=t.document;if(!e)throw"Dropdown target not found";var i,a=n||v["default"].findWidget(e),s=e.getAttribute(E),l=r.getElementById(s),d=!l&&v["default"].isWidget(a)?a.getAsync():!1;if(d)e.classList.add(b),e.isLoading=!0,i=d.then(function(t){if(t instanceof HTMLElement)return t.id&&e.setAttribute(E,t.id),t;var n=r.createElement("div");return n.className=k,n.innerHTML=t,n.id=u["default"].guid(),e.setAttribute(E,n.id),this.container.appendChild(n),n}).then(function(t){return e.isLoading=!1,e.classList.remove(b),t});else{if(!l)throw'Could not found Dropdown container with ID "'+s+'"';i=new o(function(t){t(l)})}i.then(function(n){this.currentOpen&&this.close(),e.dropdownContent=n;var i="absolute"===t.getComputedStyle(n).position;if(!e.flexCollisionContainer){var o=e.getAttribute(p);e.flexCollisionContainer=o?r.getElementById(o)||document.documentElement:document.documentElement}if(n.classList.toggle(C),n.classList.contains(C)&&(this.currentOpen=n,this.currentTarget=e),i){var a=e.getAttribute(y);a=a?r.getElementById(a):e,u["default"].setupPositionNearby(a,n,e.flexCollisionContainer)}else{this.container.classList.add(c["default"].get().canvasToggledClass);var s=e.getAttribute(g);s?(n.flexDarkenerInstance=r.getElementById(s),(n.flexDarkenerInstance||this.darkener).classList.toggle(m)):this.darkener.classList.toggle(m),this.toggleDarkenerToggler(n.flexDarkenerInstance||this.darkener,!0),n.style.left="0",n.style.top="auto"}}.bind(this))}}]),e}();e["default"]=x}).call(e,function(){return this}())},function(t,e,n){(function(t){/*!
	 * FlexCss.Form
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var r=n(18)["default"],i=n(19)["default"],o=n(4)["default"],a=n(3)["default"],s=n(28)["default"],u=n(14)["default"],l=n(108)["default"],c=n(109)["default"],d=n(6)["default"],f=n(110)["default"],h=n(111)["default"];Object.defineProperty(e,"__esModule",{value:!0});var v=n(95),p=d(v),g=n(48),m=d(g),y=n(27),_=d(y),E=n(26),b=d(E),T=n(61),C=d(T),k=n(99);f(e,h(k,f));var O="loading",x="data-flexcss-invalid",w="data-remote",A="data-remote-action",L="data-disable-inline-validation",S="data-disable-realtime-validation",N="data-validate",I="data-validation-message",F="data-custom-label",D="data-validate-visibility",M="data-error-target",P="data-depends-selector",R="json",j="input",V=20,H=150,B="flexcss.form.ready";e.EVENT_FORM_READY=B;var W="flexcss.form.submit";e.EVENT_FORM_SUBMIT=W;var X="flexcss.form.afterAjaxSubmit";e.EVENT_FORM_AFTER_AJAX_SUBMIT=X;var U="flexcss.form.ajaxCompleted";e.EVENT_FORM_AJAX_COMPLETED=U;var q=function(e){function n(t,e){if(a(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),!(t instanceof HTMLFormElement))throw"argument {0} form needs to be an form element";this.form=t,this.tooltips=null,this.currentValidationFuture=new s(function(){}),this.options={createTooltips:!0,appendError:!1,ajaxSubmitType:"POST",ajaxJsonContentType:"application/json; charset=utf-8",inlineValidation:!0,realtime:!0,realtimeTimeout:250,formatErrorTooltip:function(t){return'<i class="icon-attention"></i> '+t},inputErrorClass:"invalid",containerErrorClass:"form-error",fetchOptions:{credentials:"include"},tooltipContainer:t,scrollToElementDiff:0},u(this.options,e),_["default"].applyOptionsFromElement(t,this.options),t.hfWidgetInstance=this,this._validators=n.globalValidators,this._remoteValidationFunction=null,this.initFormValidation()}return i(n,e),o(n,[{key:"destroy",value:function(){r(Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this.tooltips&&this.tooltips.destroy()}},{key:"_submitFunction",value:function(t,e){var r=t.getAttribute(w),i=t.getAttribute(A)||t.getAttribute("action")||window.location.href,o=R===r,a=this,s=m["default"].dispatch(t,W).withOriginal(e).fire();if(s.defaultPrevented)return a._formStopLoading(),!1;if(null===r)return t.submit();e.preventDefault();var l={"X-Requested-With":"XMLHttpRequest"};o&&u(l,{"Content-Type":this.options.ajaxJsonContentType});var c=u(this.options.fetchOptions,{headers:l,method:this.options.ajaxSubmitType}),d=o?fetch(i,u(c,{body:JSON.stringify(this.serialize())})):fetch(i,u(c,{body:new FormData(t)}));return m["default"].dispatch(t,X).withOriginal(e).fire(),d.then(function(r){(a._remoteValidationFunction||n.globalRemoteValidationFunction).apply(a,[r]),m["default"].dispatch(t,U).withOriginal(e).withDetail({response:r}).fire(),a._formStopLoading()})}},{key:"serialize",value:function(){var t=['input[name]:not([type="radio"]):enabled','input[type="radio"][name]:checked',"select[name]:enabled","textarea[name]:enabled"],e=this.form.querySelectorAll(t.join(",")),n={};return Array.prototype.forEach.call(e,function(t){var e=n[t.name],r=t.value;e instanceof Array?e.push(r):e?n[t.name]=[n[t.name],r]:n[t.name]=r}),n}},{key:"handleValidation",value:function(t,e){var n=this,r=t instanceof Array||t instanceof NodeList?t:[t];return this._handleValidation(r,e,!0).then(function(t){return t.foundAnyError||n.tooltips&&n.tooltips.removeTooltip(),t}.bind(this))}},{key:"_handleValidation",value:function(t,e,r){var i=this,o=n._createArrayFromInvalidFieldList(t),a=o.length>0;a&&e&&i._focusElement(o[0]);var s=r?this._customValidationsForElements(t):i.validateCustomFields();return s.then(function(n){a&&(n.foundAnyError=!0);var s=r?t:l(o).concat(n.checkedFields);n.checkedFields=s;var u=i.prepareErrors(s,!1),c=u[0];return c&&(e?(i._focusElement(c),document.activeElement!==c&&i._handleTooltipHideClickAfterChange()):i._handleTooltipHideClickAfterChange(),i.showAndOrCreateTooltip(c)),n})}},{key:"_setupErrorMessages",value:function(t,e){return n.globalErrorMessageHandler?n.globalErrorMessageHandler.apply(this,[t,e]):!1}},{key:"_handleLabels",value:function(t){c(t).forEach(function(e){var n=this.getForm().querySelectorAll('[for="'+e+'"]'),r=t[e];if(n.length)for(var i=0;i<n.length;i++){var o=n[i];r?this._markElementInvalid(o):this._markElementValid(o)}}.bind(this))}},{key:"_markElementInvalid",value:function(t){t.setAttribute(x,"true"),t.classList.add(this.options.inputErrorClass)}},{key:"_markElementValid",value:function(t){t.removeAttribute(x),t.classList.remove(this.options.inputErrorClass)}},{key:"_getInvalidElements",value:function(){return Array.prototype.filter.call(this.getForm().querySelectorAll(":invalid"),function(t){return!(t instanceof HTMLFieldSetElement)})}},{key:"_removeElementErrors",value:function(t){for(var e=t.querySelectorAll("."+this.options.containerErrorClass),n=t.querySelectorAll("["+x+"]"),r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);for(var i=0;i<n.length;i++){var o=n[i];this._markElementValid(o)}}},{key:"registerValidator",value:function(t,e){return this._validators[t]=e,this}},{key:"_runValidation",value:function(t,e){if(!this._validators[t])throw"Could not found validator: "+t;var n=e.classList,r=this._validators[t].apply(this,[e,this.form]);return n.add(O),r.then(function(){n.remove(O)}),r}},{key:"_customValidationsForElements",value:function(t){for(var e=[],r=t.length,i=[],o=0;r>o;o++){var a=t[o],u=a.getAttribute(N),l=a.validity;if(this._validators[u]){if(n._shouldNotValidateField(a)||l&&!l.customError&&!l.valid)continue;i.push(a),e.push(this._runValidation(u,a))}else u&&console.warn("data-validate was set but no validator was found")}return s.all(e).then(function(t){for(var e=t.length,n={checkedFields:i,foundAnyError:!1},r=0;e>r;r++)if(!t[r]){n.foundAnyError=!0;break}return n})}},{key:"removeErrors",value:function(){return this._removeElementErrors(this.form),this.tooltips&&this.tooltips.removeTooltip(),this}},{key:"prepareErrors",value:function(t,e){function r(t,e,n){var r=n.getAttribute(F)||n.id,i=e[r];r&&(i=i?i:t,e[r]=i)}e&&this.removeErrors();for(var i={},o=[],a=0;a<t.length;a++){var s=t[a],u=n._findErrorTarget(s),c=u.parentNode,d=s.validity,f=d&&!d.valid;if(!n._shouldNotValidateField(s)){if(s.flexFormsSavedValidity=JSON.parse(JSON.stringify(d)),r(f,i,s),f){e||this._removeElementErrors(c),this._setupErrorMessages(s,d);var h=s.validationMessage;this._markElementInvalid(u),this._markElementInvalid(s),this.options.appendError&&c.insertAdjacentHTML("beforeend",'<div class="'+this.options.containerErrorClass+'">'+h+"</div>"),o.push(s),s.flexFormsSavedValidationMessage=h}else this._markElementValid(u),this._markElementValid(s),delete s.flexFormsSavedValidationMessage,this._removeElementErrors(c);s.setCustomValidity("")}}if(1===t.length){var s=t[0],v=s.getAttribute(F)||s.id;if(v){var p=l(this.getForm().querySelectorAll("["+F+'="'+v+'"], #'+v));p.forEach(function(t){var e=t.validity,n=e&&!e.valid&&this._isElementInvalidElement(t);r(n,i,t)}.bind(this))}}return this._handleLabels(i),o}},{key:"validateCustomFields",value:function(){return this._customValidationsForElements(this.form.querySelectorAll("[data-validate]"))}},{key:"getForm",value:function(){return this.form}},{key:"registerRemoteValidation",value:function(t){return this._remoteValidationFunction=t,this}},{key:"_formatErrorTooltip",value:function(t){return this.options.formatErrorTooltip.apply(this,[t])}},{key:"showAndOrCreateTooltip",value:function(t,e){var r=this;if(!this.tooltips&&this.options.createTooltips&&(this.tooltips=new p["default"](this.options.tooltipContainer,{containerClass:"error-tooltip"})),!this.options.createTooltips)return!1;if(!t.flexFormsSavedValidity)return!1;var i=n._findErrorTarget(t);return!t.flexFormsSavedValidity.valid&&r._isElementInvalidElement(i)?(r.tooltips.createTooltip(i,r._formatErrorTooltip(t.flexFormsSavedValidationMessage),!1),!0):(e&&r.tooltips.removeTooltip(),!1)}},{key:"_isElementInvalidElement",value:function(t){return t.hasAttribute(x)}},{key:"_checkIsInvalid",value:function(t){t.preventDefault();var e=this.getForm().querySelectorAll(":invalid");return this._handleValidation(e,!0,!1)}},{key:"_getDependentFields",value:function(t){var e=t.getAttribute(P),n=[t];return e&&n.push.apply(n,Array.prototype.slice.apply(this.getForm().querySelectorAll(e))),n}},{key:"_handleTooltipInline",value:function(t){this.tooltips&&this.tooltips.removeTooltip(t)}},{key:"initFormValidation",value:function(){function t(t){return!t.hasAttribute(S)&&!t.hasAttribute(L)}function e(){c=!1,clearTimeout(l)}function n(t){var e=t.getAttribute("type");return"radio"!==e&&"checkbox"!==e&&"submit"!==e}function r(t){return!t.hasAttribute(L)}var i=this,o=this.getForm(),a=this,u="invalid";o.addEventListener(u,function(t){t.preventDefault()},!0),_["default"].addEventOnce(u,o,function d(t){a._formLoading();var e=a._checkIsInvalid(t);e&&(a.currentValidationFuture=new s(function(n){e.then(function(e){setTimeout(function(){_["default"].addEventOnce(u,o,d,!0)},0),n(e),a._formStopLoading(),e.foundAnyError||(a._formLoading(),a._handleSubmit(t))})}))},!0),this.addEventListener(o,"reset",function(){i.removeErrors()});var l,c=!1;a.options.realtime&&this.addEventListener(o,j,function(e){if(!a._formIsLoading()){var n=e.target;clearTimeout(l),c||(l=setTimeout(function(){var r=document.activeElement===e.target;if(t(n)){r&&a._handleTooltipInline(),c=!0;var i=a._getDependentFields(n);a._customValidationsForElements(i).then(function(){a.prepareErrors(i,!1),r&&a.showAndOrCreateTooltip(e.target),c=!1})}},a.options.realtimeTimeout))}},!0),this.addEventListener(o,"blur",function(t){t.target.flexcssKeepTooltips||a._handleTooltipInline(t.target),delete t.target.flexcssKeepTooltips},!0),this.addEventListener(o,"focus",function(t){a._formIsLoading()||n(t.target)&&setTimeout(function(){a.showAndOrCreateTooltip(t.target)},V)},!0),a.options.inlineValidation&&this.addEventListener(o,"change",function(t){var n=t.target;if(!a._formIsLoading()&&r(n)){e();var i=n.getAttribute("name"),s=i?o.querySelectorAll('[name="'+i+'"]'):[n];1===s.length&&(s=a._getDependentFields(n)),a._customValidationsForElements(s).then(function(){a.prepareErrors(s,!1),n.flexcssKeepTooltips=a.showAndOrCreateTooltip(n,!0),n.flexcssKeepTooltips&&a._handleTooltipHideClickAfterChange()})}}),this.addEventListener(o,"submit",function f(t){a._submitListener(t,f)}),m["default"].dispatchAndFire(o,B)}},{key:"_formLoading",value:function(){this.getForm().classList.add(O)}},{key:"_formStopLoading",value:function(){this.getForm().classList.remove(O)}},{key:"_formIsLoading",value:function(){return this.getForm().classList.contains(O)}},{key:"_handleTooltipHideClickAfterChange",value:function(){var e=this;this.options.createTooltips&&setTimeout(function(){_["default"].addEventOnce(b["default"].getTabEvent(),t.document.body,function(t){e._isElementInvalidElement(t.target)||e._handleTooltipInline()})},H)}},{key:"_focusElement",value:function(t){t.focus(),_["default"].scrollToElement(t,this.options.scrollToElementDiff)}},{key:"_submitListener",value:function(t,e){var n=this.getForm(),r=this,i="submit";return this._formIsLoading()?(t.preventDefault(),!1):(this._formLoading(),n.removeEventListener(i,e),this.removeErrors(),t.preventDefault(),void(n.checkValidity()?(n.addEventListener(i,e),r.currentValidationFuture=new s(function(t){var e=r.validateCustomFields();e.then(function(e){var n=r._getInvalidElements(),i=r.prepareErrors(n,!1),o=i[0];o&&(r._focusElement(o),r.showAndOrCreateTooltip(o,!0)),t(e)})}),r.currentValidationFuture.then(function(e){e.foundAnyError?r._formStopLoading():r._handleSubmit(t)})):(r._formStopLoading(),n.addEventListener(i,e))))}},{key:"_handleSubmit",value:function(t){this._submitFunction(this.form,t)}}],[{key:"_shouldNotValidateField",value:function(t){var e=n._findErrorTarget(t);return e instanceof HTMLFieldSetElement||e.hasAttribute(D)&&!_["default"].isVisible(e)}},{key:"_createArrayFromInvalidFieldList",value:function(t){for(var e=[],r=0;r<t.length;++r){var i=t[r];i.validity&&!i.validity.valid&&(n._shouldNotValidateField(i)||e.push(i))}return e}},{key:"_findErrorTarget",value:function(e){var n=e.getAttribute(M)||e,r=n instanceof HTMLElement?n:t.document.getElementById(n);if(!r)throw"Given error target did not exsits:"+e;return r}},{key:"registerErrorMessageHandler",value:function(t){n.globalErrorMessageHandler=t}},{key:"init",value:function(t,e){for(var r=t instanceof HTMLElement?t.querySelectorAll("form"):document.querySelectorAll(t),i=[],o=0;o<r.length;o++)i.push(new n(r[o],e));return i}},{key:"registerValidator",value:function(t,e){return n.globalValidators[t]=e,n}},{key:"registerGlobalRemoteValidationFunction",value:function(t){return n.globalRemoteValidationFunction=t,n}}]),n}(C["default"]);e["default"]=q,q.globalValidators=[],q.globalRemoteValidationFunction=function(){},q.globalErrorMessageHandler=function(t,e){if(!e.customError){var n=t.getAttribute(I);n&&t.setCustomValidity(n)}}}).call(e,function(){return this}())},function(t,e,n){(function(r){/*!
	 * FlexCss.LightBox
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var i=n(4)["default"],o=n(3)["default"],a=n(14)["default"],s=n(28)["default"],u=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var l=n(94),c=u(l),d=n(26),f=u(d),h=n(38),v=u(h),p="data-original-width",g="data-original-height",m="data-src",y="has-prev",_="has-next",E="loading",b="data-no-thumbnail",T="data-href",C="href",k=39,O=37,x="data-close-modal",w=function(){function t(e,n,r,i){o(this,t);var s=e instanceof HTMLElement?e:document.getElementById(e);this._modalAppend=r||e,this._resizeEvent=null,this._keyboardNextEvent=null,this._future=null,this._nextFuture=this._future,this._imageContainer=null,this._modalContainerDiv=null,this._contentContainer=null,this._closerContainerDiv=null,this._delegateContainer=s,this._attributeSelector=n,this._widget=null,this._isOpen=!1,this.target=null,this.img=null,this._isLoading=!1,this.options={registerPrevNextEvents:!0,closeOnLast:!0,onNext:function(){return!0},onClose:function(){},getNext:null,getPrev:null,onSwitchImage:function(){}},a(this.options,i)}return i(t,[{key:"findImmediateNextTarget",value:function(t){return t&&t.children[0].hasAttribute(this._attributeSelector)?t.children[0]:null}},{key:"getNext",value:function(t){return this.options.getNext?this.options.getNext.apply(this,[t]):this.findImmediateNextTarget(t.parentNode.nextElementSibling)}},{key:"getPrev",value:function(t){return this.options.getPrev?this.options.getPrev.apply(this,[t]):this.findImmediateNextTarget(t.parentNode.previousElementSibling)}},{key:"registerEvents",value:function(t){var e=this;this._delegateContainer.addEventListener(f["default"].getTabEvent(),function(n){var r=n.target,i=r.parentNode,o=r.hasAttribute(e._attributeSelector),a=i&&i.hasAttribute(e._attributeSelector);!o&&a&&(o=!0,r=i),o&&(n.preventDefault(),e.open(r).then(function(n){t&&t.apply(e,[n,r])}))})}},{key:"getContentContainer",value:function(){return this._contentContainer}},{key:"switchImageByDirection",value:function(t){var e=t?this.getPrev(this.target):this.getNext(this.target);return this.options.onNext.apply(this,[e])?this.switchImage(e):new s(function(t,n){return n(e)})}},{key:"isLoading",value:function(){return this._isLoading}},{key:"_runOptionalClose",value:function(){this.options.closeOnLast&&this.modal.close()}},{key:"_setupPrevNextStates",value:function(){var t=this.target,e=this.getPrev(t),n=this.getNext(t),r=y,i=_;e?this._imageContainer.classList.add(r):this._imageContainer.classList.remove(r),n?this._imageContainer.classList.add(i):this._imageContainer.classList.remove(i)}},{key:"_calculateContainer",value:function(t){f["default"].isIE()&&setTimeout(function(){this._imageContainer.style.height=t.offsetHeight+"px"}.bind(this),0)}},{key:"switchImage",value:function(e){var n=this,r=this,i=this.img;return this._isLoading=!0,r._nextFuture=new s(function(o,a){if(r.options.onSwitchImage.apply(r,[r._nextFuture]),e){var s=e.hasAttribute(b)?e:e.children[0]||e,u=e.getAttribute(T)||e.getAttribute(C),l=s.getAttribute(m)||s.src||u,c=new Image;if(!l)return void a(e);n.target=e,c.src=l,r._imageContainer.classList.add(E),c.addEventListener("load",function(){i.src=l,r._imageContainer.style.backgroundImage="url("+l+")",t._setupMaxWidthHeight(e,i,c),r._calculateContainer(i),r.highRes(s,u),r._setupPrevNextStates(),r._imageContainer.classList.remove(E),this._isLoading=!1,o(l,this.target)}.bind(n))}else a(n)}.bind(this)),r._nextFuture}},{key:"highRes",value:function(t,e){if(e&&t.src!==e){var n=new Image;n.src=e,n.addEventListener("load",function(){this._getSrc(t)===this.img.src&&(this.img.src=e,this._imageContainer.style.backgroundImage="url("+e+")")}.bind(this))}}},{key:"_getSrc",value:function(t){return t.getAttribute(m)||t.src}},{key:"open",value:function(e){var n=this;return e?(this.target=e,this._isOpen&&e?this.switchImage(e).then(function(){return this}.bind(this)):(this._isOpen=!0,this._widget=(new v["default"]).setAsync(function(){var i=this,o=e.hasAttribute(b)?e:e.children[0]||e,a=e.getAttribute(T)||e.getAttribute(C),u=this._getSrc(o)||a,c=new Image;return c.src=u,this._imageContainer=document.createElement("div"),this._modalContainerDiv=document.createElement("div"),this._closerContainerDiv=document.createElement("i"),this._contentContainer=document.createElement("div"),this._closerContainerDiv.className="modal-close modal-close-lightbox icon-cancel-1",this._closerContainerDiv.setAttribute(x,x),this._modalContainerDiv.className="modal image-modal",this._modalContainerDiv.appendChild(this._imageContainer),this._modalContainerDiv.appendChild(this._contentContainer),this._modalContainerDiv.appendChild(this._closerContainerDiv),this._contentContainer.className="content-container",this._isLoading=!0,this._future=new s(function(s){c.addEventListener("load",function(){this._imageContainer.className="image-container";var i=document.createElement("img");this.img=i,i.src=u,t._setupMaxWidthHeight(e,i,c),this._imageContainer.appendChild(i),this._imageContainer.style.backgroundImage="url("+u+")",s(n._modalContainerDiv),this._isLoading=!1,f["default"].isIE()&&(n._resizeEvent=r.addEventListener("resize",function(){setTimeout(function(){n._imageContainer.style.height=i.offsetHeight+"px"},0)})),n.options.registerPrevNextEvents?(n._setupPrevNextStates(),n._imageContainer.addEventListener(f["default"].getTabEvent(),function(t){if(!n.isLoading()){t.preventDefault();var e=t,i=r.TouchEvent&&e instanceof TouchEvent?e.changedTouches[0].pageX:e.pageX,o=n._imageContainer.getBoundingClientRect(),a=o.left,s=o.width,u=i-a;n.switchImageByDirection(s/2>u)["catch"](function(){n._runOptionalClose()})}}),n._keyboardNextEvent=function(t){if(t.keyCode===k||t.keyCode===O){if(n.isLoading())return;n.switchImageByDirection(t.keyCode===O)["catch"](function(){n._runOptionalClose()})}},r.addEventListener("keydown",n._keyboardNextEvent)):n._imageContainer.addEventListener(f["default"].getTabEvent(),function(){n._runOptionalClose()}),n.highRes(o,a)}.bind(i))}.bind(this)),this._future.then(function(){n._calculateContainer(this.img)}.bind(this)),n._modalContainerDiv.addEventListener(l.EVENT_MODAL_CLOSED,function(){this._modalContainerDiv.parentNode.removeChild(this._modalContainerDiv),this.options.onClose.apply(n),this._isOpen=!1,this.modal.destroy(),this._keyboardNextEvent&&r.removeEventListener("keydown",n._keyboardNextEvent),this._resizeEvent&&r.removeEventListener("resize",n._resizeEvent)}.bind(this)),this._future}.bind(this)),this._nextFuture=this._future,n._widget?(this.modal=new c["default"](this._modalAppend),this.modal.close().fromWidget(n._widget).then(function(){return n._future.then(function(){return n})})):!1)):!1}}],[{key:"_setupMaxWidthHeight",value:function(t,e,n){var r=t.getAttribute(p),i=t.getAttribute(g);r&&i?(e.style.maxWidth=r+"px",e.style.maxHeight=i+"px"):(e.style.maxWidth=n.width+"px",e.style.maxHeight=n.height+"px")}}]),t}();e["default"]=w,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){(function(r){/*!
	 * FlexCss.OffCanvas
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var i=n(4)["default"],o=n(3)["default"],a=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(26),u=a(s),l=n(27),c=a(l),d="data-close-offcanvas",f="data-offcanvas",h="toggled-canvas",v="init",p="open",g=3,m=function(){function t(e,n,i,a){o(this,t);var s=r.document,l=0,d=e instanceof HTMLElement?e:s.getElementById(e),f=n instanceof HTMLElement?n:s.getElementById(n),h="toggle-"+f.id||"darkener",v=h+"-open",p=function(t){t.transform="",t.transition="",t.webkitTransform="",t.webkitTransition=""},m=function(){return window.innerWidth>=u["default"].get().smallBreakpoint};if(!f||!d)throw"Could not find needed elements (Darkener and/or NavigationId)";this.darkener=f,this.darkenerClassToggle=h,this.darkenerClassToggleInstant=v,this.navigationContainer=d,this.navigationContainerId=d.id,this.navigationContainerId||(this.navigationContainerId=c["default"].guid(),d.id=this.navigationContainerId),a||(d.addEventListener("touchstart",function(t){requestAnimationFrame(function(){if(!m()){l=t.touches[0].clientX;var e=d,n=e.style;e.mustHide=!1,n.transition="transform 0s ease",n.webkitTransition="-webkit-transform 0s ease"}})}),d.addEventListener("touchmove",function(t){if(!m()){var e=t.touches[0].clientX,n=d,r=n.style,o=l-e,a=n.getBoundingClientRect(),s=i>0?0>=o:o>=0;s&&(n.mustHide=i>0?-1*o>a.width/g:o>a.width/g,r.transform="translate3d("+-1*o+"px,0,0)",r.webkitTransform="translate3d("+-1*o+"px,0,0)")}}),d.addEventListener("touchend",function(){requestAnimationFrame(function(){if(!m()){var t=d,e=t.style;if(t.mustHide){var n=t.getBoundingClientRect().width*i;e.transition="transform .2s ease",e.webkitTransition="-webkit-transform .2s ease",e.transform="translate3d("+n+"px,0,0)",e.webkitTransform="translate3d("+n+"px,0,0)",this._remove(function(){p(e)}),this._removeInstant()}else p(e)}}.bind(this))}.bind(this)))}return i(t,[{key:"_remove",value:function(e){c["default"].addEventOnce(u["default"].getTransitionEvent(),this.navigationContainer,function(){setTimeout(function(){requestAnimationFrame(function(){var n=r.document.body;t.currentOpen=null,n.classList.remove(h),n.classList.remove(this.darkenerClassToggle),e&&e()}.bind(this))}.bind(this),u["default"].get().darkenerFadeDelay)}.bind(this))}},{key:"_removeInstant",value:function(){this.navigationContainer.classList.remove(p),r.document.body.classList.remove(this.darkenerClassToggleInstant),this.darkener.classList.remove(v)}},{key:"_toggle",value:function(e){e.preventDefault();var n=r.document.body.classList,i=this.darkener.classList,o=this.darkenerClassToggle,a=this.darkenerClassToggleInstant,s=this.navigationContainer.classList;this.navigationContainer.classList.contains(p)?(this._remove(),this._removeInstant(s)):t.currentOpen||(t.currentOpen=this,n.add(a),n.add(h),n.add(o),i.add(v),s.add(p))}},{key:"registerEvents",value:function(e){e=e||r.document,e.addEventListener(u["default"].getTabEvent(),function(e){if(!t.currentOpen||t.currentOpen===this){var n=this.navigationContainerId,r=e.target.getAttribute(f)===n;c["default"].isPartOfNode(e.target,this.navigationContainer)?e.target.hasAttribute(d)&&this._toggle(e):(r||t.currentOpen===this&&e.target===this.darkener)&&this._toggle(e)}}.bind(this))}}]),t}();e["default"]=m,m.currentOpen=null,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(18)["default"],i=n(19)["default"],o=n(4)["default"],a=n(3)["default"],s=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var u=n(61),l=s(u),c=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.container=t,this.registerEvents()}return i(e,t),o(e,[{key:"registerEvents",value:function(){var t=this,e=this.container.children[0],n=e.getBoundingClientRect().width,r=this.container.getBoundingClientRect().width,i=n-r,o=0,a=void 0;this.container.addEventListener("mouseenter",function(e){t.container.getBoundingClientRect();o=e.clientX}),this.container.addEventListener("mousemove",function(n){var r=t.container.getBoundingClientRect(),o=n.clientX,s=Math.abs(o-r.left)/(r.width/2);requestAnimationFrame(function(){var t=(1-s)*i;e.style.webkitTransform="translate3d("+t+"px,0,0)",e.style.transform="translate3d("+t+"px,0,0)",a=t})})}}],[{key:"init",value:function(t){var n=document.querySelectorAll(t);return Array.prototype.slice.call(n).map(function(t){return new e(t)})}}]),e}(l["default"]);e["default"]=c,t.exports=e["default"]},function(t,e,n){(function(t){/*!
	 * FlexCss.Toggleable
	 * Licensed under the MIT License (MIT)
	 * Copyright (c) 2015 David Heidrich, BowlingX <me@bowlingx.com>
	 */
"use strict";var r=n(4)["default"],i=n(3)["default"],o=n(28)["default"],a=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var s=n(26),u=a(s),l=n(38),c=a(l),d=n(27),f=a(d),h=n(48),v=a(h),p="flexcss.tab.closed";e.EVENT_TAB_CLOSED=p;var g="flexcss.tab.opened";e.EVENT_TAB_OPENED=g;var m="data-toggle",y="active",_="loading",E="data-toggle-list",b=function(){function e(n){i(this,e);var r=t.document;if(this.container=n instanceof HTMLElement?n:r.getElementById(n),this.loading=!1,!this.container)throw'Toggleable container with id "'+n+'" not found'}return r(e,[{key:"_listener",value:function(e){var n=e.target,r=n.parentNode,i=t.document;if(!n.hasAttribute(m)){if(!r||!r.hasAttribute(m))return;n=r}if(n.hasAttribute(m)){var o=n.getAttribute(m),a=i.getElementById(o);e.preventDefault(),this.loading||this.toggleTarget(a,n)}}},{key:"registerEvents",value:function(){return this.container.addEventListener(u["default"].getTabEvent(),this._listener.bind(this)),this}},{key:"toggleTarget",value:function(n,r){var i=this;if(r||n){r||(r=document.querySelector("["+m+'="'+n.id+'"]'));var a,s,u,l=r.classList,d=r.parentNode,h=t.document;if(s=new o(function(t,e){if(n)t(n);else{var i=c["default"].findWidget(r),o=i?i.getAsync():null;c["default"].isWidget(i)&&o?s=o.then(function(e){if(!(e instanceof HTMLElement))throw"Dynamically creating toggle-content is not supported right now. Return an HTMLElement instance";var n=f["default"].guid();e.id=n,r.setAttribute(m,n),t(e)}):e("Target not given")}}),d){if(a=f["default"].parentsUntil(r,function(t){return t&&t.hasAttribute&&t.hasAttribute(E)}),u=d.classList,a){if(u.contains(y))return;u.toggle(y),u.add(_)}if(a)for(var b=0;b<a.children.length;b++){var T=a.children[b],C=T.children[0];if(T!==d&&(T.classList.remove(y),C)){var k=C.getAttribute(m),O=k?h.getElementById(k):null;O&&(v["default"].dispatchAndFire(O,p),O.classList.remove(y),C.classList.remove(y))}}}l&&(l.toggle(y),l.add(_)),this.loading=!0,s.then(function(t){v["default"].dispatchAndFire(t,g),e._handleLoaded(r),t.classList.toggle(y),this.loading=!1}.bind(this))["catch"](function(t){i.loading=!1,e._handleLoaded(r),console.warn(t)})}}}],[{key:"_handleLoaded",value:function(t){var e=t.parentNode.classList;t.classList.remove(_),e&&e.remove(_)}}]),e}();e["default"]=b}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(6)["default"];Object.defineProperty(e,"__esModule",{value:!0});var i=n(102),o=r(i),a=n(95),s=r(a),u=n(94),l=r(u),c=n(38),d=r(c),f=n(26),h=r(f),v=n(106),p=r(v),g=n(104),m=r(g),y=n(101),_=r(y),E=n(103),b=r(E),T=n(105),C=r(T);e["default"]={Form:o["default"],Tooltip:s["default"],Modal:l["default"],Widget:d["default"],Settings:h["default"],Toggleable:p["default"],OffCanvas:m["default"],Dropdown:_["default"],LightBox:b["default"],Showcase:C["default"]},t.exports=e["default"]},function(t,e,n){t.exports={"default":n(112),__esModule:!0}},function(t,e,n){t.exports={"default":n(114),__esModule:!0}},function(t,e,n){"use strict";var r=n(96)["default"],i=n(50)["default"],o=n(49)["default"];e["default"]=function(t,e){for(var n=r(e),a=0;a<n.length;a++){var s=n[a],u=i(e,s);u&&u.configurable&&void 0===t[s]&&o(t,s,u)}return t},e.__esModule=!0},function(t,e){"use strict";e["default"]=function(t,e){var n=e({},t);return delete n["default"],n},e.__esModule=!0},function(t,e,n){n(17),n(122),t.exports=n(2).Array.from},function(t,e,n){var r=n(1);n(123),t.exports=function(t){return r.getNames(t)}},function(t,e,n){n(124),t.exports=n(2).Object.keys},function(t,e,n){n(58),n(17),n(23),n(125),t.exports=n(2).Promise},function(t,e,n){var r=n(16),i=n(8).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r={}.toString,i=n(34),o=n(1).getNames,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.get=function(t){return a&&"[object Window]"==r.call(t)?s(t):o(i(t))}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){function r(){for(;i;)i.fn.call(),i=i.next;o=void 0}var i,o,a,s=n(8),u=n(121).set,l=s.MutationObserver||s.WebKitMutationObserver,c=s.process;if("process"==n(29)(c))a=function(){c.nextTick(r)};else if(l){var d=1,f=document.createTextNode("");new l(r).observe(f,{characterData:!0}),a=function(){f.data=d=-d}}else a=function(){u.call(s,r)};t.exports=function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r,i,o,a=n(12),s=n(118),u=n(127),l=n(116),c=n(8),d=c.process,f=c.setImmediate,h=c.clearImmediate,v=c.MessageChannel,p=0,g={},m="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){y.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++p]=function(){s("function"==typeof t?t:Function(t),e)},r(p),p},h=function(t){delete g[t]},"process"==n(29)(d)?r=function(t){d.nextTick(a(y,t,1))}:v?(i=new v,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScript?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r=m in l("script")?function(t){u.appendChild(l("script"))[m]=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:h}},function(t,e,n){"use strict";var r=n(12),i=n(7),o=n(47),a=n(53),s=n(52),u=n(57),l=n(36);i(i.S+i.F*!n(97)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,c,d=o(t),f="function"==typeof this?this:Array,h=arguments[1],v=void 0!==h,p=0,g=l(d);if(v&&(h=r(h,arguments[2],2)),void 0==g||f==Array&&s(g))for(n=new f(e=u(d.length));e>p;p++)n[p]=v?h(d[p],p):d[p];else for(c=g.call(d),n=new f;!(i=c.next()).done;p++)n[p]=v?a(c,h,[i.value,p],!0):i.value;return n.length=p,n}})},function(t,e,n){n(43)("getOwnPropertyNames",function(){return n(117).get})},function(t,e,n){var r=n(47);n(43)("keys",function(t){return function(e){return t(r(e))}})},function(t,e,n){"use strict";var r,i=n(1),o=n(54),a=n(8),s=n(12),u=n(20),l=n(7),c=n(16),d=n(11),f=n(51),h=n(33),v=n(21),p=n(55).set,g=n(120),m=n(56),y=n(5)("species"),_=n(35)("record"),E=n(119),b="Promise",T=a.process,C="process"==u(T),k=a[b],O=function(t){var e=new k(function(){});return t&&(e.constructor=Object),k.resolve(e)===e},x=function(){function t(e){var n=new k(e);return p(n,t.prototype),n}var e=!1;try{if(e=k&&k.resolve&&O(),p(t,k),t.prototype=i.create(k.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(e=!1),e&&n(13)){var r=!1;k.resolve(i.setDesc({},"then",{get:function(){r=!0}})),e=r}}catch(o){e=!1}return e}(),w=function(t){return c(t)&&(x?"Promise"==u(t):_ in t)},A=function(t,e){return o&&t===k&&e===r?!0:g(t,e)},L=function(t){var e=d(t)[y];return void 0!=e?e:t},S=function(t){var e;return c(t)&&"function"==typeof(e=t.then)?e:!1},N=function(t,e){if(!t.n){t.n=!0;var n=t.c;E(function(){for(var r=t.v,i=1==t.s,o=0,s=function(e){var n,o,a=i?e.ok:e.fail;try{a?(i||(t.h=!0),n=a===!0?r:a(r),n===e.P?e.rej(TypeError("Promise-chain cycle")):(o=S(n))?o.call(n,e.res,e.rej):e.res(n)):e.rej(r)}catch(s){e.rej(s)}};n.length>o;)s(n[o++]);n.length=0,t.n=!1,e&&setTimeout(function(){E(function(){I(t.p)&&(C?T.emit("unhandledRejection",r,t.p):a.console&&console.error&&console.error("Unhandled promise rejection",r)),t.a=void 0})},1)})}},I=function(t){var e,n=t[_],r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(e=r[i++],e.fail||!I(e.P))return!1;return!0},F=function(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,e.a=e.c.slice(),N(e,!0))},D=function(t){var e,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(e=S(t))?E(function(){var r={r:n,d:!1};try{e.call(t,s(D,r,1),s(F,r,1))}catch(i){F.call(r,i)}}):(n.v=t,n.s=1,N(n,!1))}catch(r){F.call({r:n,d:!1},r)}}};x||(k=function(t){f(t);var e={p:h(this,k,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[_]=e;try{t(s(D,e,1),s(F,e,1))}catch(n){F.call(e,n)}},n(32)(k.prototype,{then:function(t,e){var n=d(d(this).constructor)[y],r={ok:"function"==typeof t?t:!0,fail:"function"==typeof e?e:!1},i=r.P=new(void 0!=n?n:k)(function(t,e){r.res=f(t),r.rej=f(e)}),o=this[_];return o.c.push(r),o.a&&o.a.push(r),o.s&&N(o,!1),i},"catch":function(t){return this.then(void 0,t)}})),l(l.G+l.W+l.F*!x,{Promise:k}),n(22)(k,b),m(k),m(r=n(2)[b]),l(l.S+l.F*!x,b,{reject:function(t){return new this(function(e,n){n(t)})}}),l(l.S+l.F*(!x||O(!0)),b,{resolve:function(t){return w(t)&&A(t.constructor,this)?t:new this(function(e){e(t)})}}),l(l.S+l.F*!(x&&n(97)(function(t){k.all(t)["catch"](function(){})})),b,{all:function(t){var e=L(this),n=[];return new e(function(r,o){v(t,!1,n.push,n);var a=n.length,s=Array(a);a?i.each.call(n,function(t,n){e.resolve(t).then(function(t){s[n]=t,--a||r(s)},o)}):r(s)})},race:function(t){var e=L(this);return new e(function(n,r){v(t,!1,function(t){e.resolve(t).then(n,r)})})}})},,function(t,e){t.exports="module.exports = require('./$.global').document && document.documentElement;"}])});
//# sourceMappingURL=site.min.map